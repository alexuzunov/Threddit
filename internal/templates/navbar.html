{{ define "navbar" }}

<script>
    $(function(){
        const token = ('; '+document.cookie).split(`; token=`).pop().split(';')[0];

        if (!token) {
            $("#session").html("<li class=\"nav-item\"><a class=\"nav-link fs-4\" href=\"/login\">Login</a></li>" +
                "<li class=\"nav-item\"><a class=\"nav-link fs-4\" href=\"/register\">Sign Up</a></li>")
        } else {
            $("#session").html("<li class=\"nav-item\">" +
                "<a class=\"nav-link fs-4\" href=\"/post/create\">Create a post</a></li>" +
                "<li class=\"nav-item\">" +
                "<a class=\"nav-link fs-4\" href=\"/subreddit/create\">Create a subreddit</a></li>" +
                "<li class=\"nav-item\"><form action=\"/api/logout\" method=\"POST\">" +
                "<button type=\"submit\" class=\"nav-link fs-4\">Logout</button></form></li>")
        }
    });
</script>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand fs-4" href="/">Threddit</a>
        <div class="w-25 input-group ms-auto me-auto">
            <input class="form-control" type="text" placeholder="Search" aria-label="Search">
            <div class="input-group-append">
                <button type="button" class="btn btn-warning">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
        <ul id="session" class="navbar-nav ms-auto"></ul>
    </div>
</nav>

{{ end }}